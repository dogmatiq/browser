{{ define "content" }}
<h1>Application Details</h1>

<div class="card my-3">
    <div class="card-body">
        <dl>
            <dt data-bs-toggle="tooltip" data-bs-placement="left" title="The human-readable name given to the application.">Name
            </dt>
            <dd>{{ .AppName }}</dd>
            <dt data-bs-toggle="tooltip" data-bs-placement="left"
                title="The immutable key that serves as a globally unique identifier for the application.">Key</dt>
            <dd>{{ .AppKey }}</dd>
            <dt data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that implements the application interface.">Implementation</dt>
            <dd><span class="text-muted">{{ .AppTypeName.PackagePath }}/</span>{{ .AppTypeName.Name }}</dd>
        </dl>
    </div>
</div>

<section class="mt-5">
    <h2 id="handlers"><a href="#handlers"><i class="bi bi-link"></i></a> Handlers</h2>

    <p class="my-3">
        Analysis of the <strong>{{ .AppName }}</strong> application discovered
        <strong>{{ len .Handlers }}</strong> message handlers.
    </p>

    <table class="table table-striped table-hover">
        <thead>
            <th data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The human-readable name given to the handler within the <strong>{{ .AppName }}</strong> application.">Name</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The type of handler interface implemented by the handler.">Type</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The number of messages produced or consumed by the handler." style="text-align: right;">Messages
            </th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that implements the handler interface.">Implementation</th>
        </thead>
        <tbody>
            {{ range .Handlers }}
            <tr>
                <td><a href="/handlers/{{ .HandlerKey }}">{{ .HandlerName }}</a></td>
                <td>{{ .HandlerType }}</td>
                <td style="text-align: right;"><a href="/handlers/{{ .HandlerKey }}#messages">{{ .MessageCount }}</a>
                <td><span class="text-muted">{{ .HandlerTypeName.PackagePath }}/</span>{{ .HandlerTypeName.Name }}</td>
                </td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</section>

<section class="mt-5">
    <h2 id="messages"><a href="#messages"><i class="bi bi-link"></i></a> Messages</h2>

    <p class="my-3">
        Analysis of <strong>{{ len .Handlers }}</strong> handlers within the
        <strong>{{ .AppName }}</strong> application discovered
        <strong>{{ len .Messages }}</strong> different message types.
    </p>

    <table class="table table-striped table-hover">
        <thead>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that defines the message.">
                Implementation</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The role that the message plays within the <strong>{{ .AppName }}</strong> application.">Role</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The number of handlers within the <strong>{{ .AppName }}</strong> application that produce or consume the message."
                style="text-align: right;">Handlers</th>
        </thead>
        <tbody>
            {{ range .Messages }}
            <tr>
                <td><a href="/messages/{{ .MessageTypeName }}">{{ block "typename" .MessageTypeName }}?{{end}}</a></td>
                <td>{{ .Role }}</a></td>
                <td style="text-align: right;">{{ .HandlerCount }}</td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</section>

{{ end }}

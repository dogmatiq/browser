{{ define "content" }}
<h1>Message Details</h1>

<div class="card my-3">
    <div class="card-body">
        <dl>
            <dt data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that defines the message type.">Implementation</dt>
            <dd><span class="text-muted">{{ .MessageTypeName.PackagePath }}/</span>{{ .MessageTypeName.Name }}</dd>
            <dt data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The role that the message plays within the the applications that use it.">Role
            </dt>
            <dd>{{ .MessageRole }}</dd>
        </dl>
    </div>
</div>

<section class="mt-5">
    <h2 id="applications"><a href="#applications"><i class="bi bi-link"></i></a> Applications</h2>

    <p class="my-3">
        Analysis of the message discovered <strong>{{ len .Applications }}</strong>
        application(s) that use the message.
    </p>

    <table class="table table-striped table-hover">
        <thead>
            <th data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The human-readable name given to the application.">Name</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that implements the application interface.">Implementation</th>
        </thead>
        <tbody>
            {{ range .Applications }}
            <tr>
                <td><a href="/applications/{{ .AppKey }}">{{ .AppName }}</a></td>
                <td><span class="text-muted">{{ .AppTypeName.PackagePath }}/</span>{{ .AppTypeName.Name }}</td>
                </td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</section>

<section class="mt-5">
    <h2 id="handlers"><a href="#handlers"><i class="bi bi-link"></i></a> Handlers</h2>

    <p class="my-3">
        Analysis of the message discovered <strong>{{ len .Handlers }}</strong>
        message handler(s) that produce and/or consume the message.
    </p>

    <table class="table table-striped table-hover">
        <thead>
            <th data-bs-toggle="tooltip" data-bs-placement="left" data-bs-html="true"
                title="The human-readable name given to the handler.">Name</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The type of handler interface implemented by the handler.">Type</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="Indicates that the handler produces messages of this type." style="text-align: center;">Producer
            </th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="Indicates that the handler consumes messages of this type." style="text-align: center;"
                style="text-align: center;">Consumer</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left" title="The application that the handler belongs to.">
                Application</th>
            <th data-bs-toggle="tooltip" data-bs-placement="left"
                title="The name of the Go type that implements the handler interface.">Implementation</th>
        </thead>
        <tbody>
            {{ range .Handlers }}
            <tr>
                <td><a href="/handlers/{{ .HandlerKey }}">{{ .HandlerName }}</a></td>
                <td>{{ .HandlerType }}</td>
                <td style="text-align: center;">{{ if .IsProducer }}<i class="bi bi-check2-square"></i>{{ end }}</td>
                <td style="text-align: center;">{{ if .IsConsumer }}<i class="bi bi-check2-square"></i>{{ end }}</td>
                <td><a href="/applications/{{ .AppKey }}">{{ .AppName }}</a></td>
                <td><span class="text-muted">{{ .HandlerTypeName.PackagePath }}/</span>{{ .HandlerTypeName.Name }}</td>
                </td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</section>

{{ end }}
